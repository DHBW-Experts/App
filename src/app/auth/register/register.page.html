<!DOCTYPE html>

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Registrieren</title>
  <link
    rel="stylesheet"
    type="text/css"
    id="applicationStylesheet"
    href="css/styles.css"
  />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto:wght@400;700&display=swap"
    rel="stylesheet"
  />

  <script>
    function restoreMailExample() {
      const domains = new Map();

      domains.set("not-set", "@beispiel-dhbw.de");
      domains.set("Karlsruhe", "@student.dhbw-karlsruhe.de");
      domains.set("Stuttgart", "@???-dhbw.de");
      domains.set("Mannheim", "@???-dhbw.de");
      domains.set("Heilbronn", "@???-dhbw.de");

      const name = document.getElementById("mail").value;
      const domain = domains.get(document.getElementById("standort").value);
      document.getElementById("email_preview_text").textContent = name + domain;
    }
    function setMail() {
      const firstname = document.getElementById("firstname_input").value;
      const lastname = document.getElementById("lastname_input").value;
      if (firstname != "" && lastname != "") {
        document.getElementById("mail").value =
          lastname.toLowerCase() + "." + firstname.toLowerCase();
        restoreMailExample();
      }
    }
  </script>
</head>
<body>
  <div id="Registrieren">
    <div id="top-nav">
      <button id="backArrowButton">
        <img src="img/arrow_back.svg" alt="back" id="back" />
      </button>
      <div id="RegistrierenText"><span>Registrieren</span></div>
    </div>
    <div id="sign-up">
      <div class="Default_Input" id="firstname">
        <div class="Default_Input_Text"><span>Vorname</span></div>
        <input
          type="text"
          placeholder="Max"
          class="Default_Input_Field"
          id="firstname_input"
          (change)="setMail()"
          [(ngModel)]="firstname"
        />
      </div>
      <div class="Default_Input" id="lastname">
        <div class="Default_Input_Text"><span>Nachname</span></div>
        <input
          type="text"
          placeholder="Mustermann"
          class="Default_Input_Field"
          id="lastname_input"
          (change)="setMail()"
          [(ngModel)]="lastname"
        />
      </div>
      <div class="Splitted_Input" id="DHBW-Mail_Standort">
        <div class="Default_Input_Text"><span>DHBW-E-Mail-Adresse</span></div>
        <input
          type="text"
          placeholder="max.mustermann"
          class="Splitted_Input_Field"
          id="mail"
          (change)="restoreMailExample()"
          [(ngModel)]="email"
        />
        <select
          type="text"
          list="standorte"
          id="standort"
          class="Splitted_Dropdown_Field"
          (change)="restoreMailExample()"
          [(ngModel)]="dhbw"
        >
          <option value="not-set">----</option>
          <option value="Karlsruhe">Karlsruhe</option>
          <option value="Stuttgart">Stuttgart</option>
          <option value="Mannheim">Mannheim</option>
          <option value="Heilbronn">Heilbronn</option>
        </select>
        <div class="email_preview_div">
          <span id="email_preview_text">max.mustermann@beispiel-dhbw.de</span>
        </div>
      </div>
      <div class="Default_Input" id="Studiengang">
        <div class="Default_Input_Text"><span>Studiengang</span></div>
        <input
          type="text"
          placeholder="Informatik"
          class="Default_Input_Field"
          [(ngModel)]="course"
        />
      </div>
      <div class="Default_Input" id="Fachrichtung">
        <div class="Default_Input_Text"><span>Fachrichtung</span></div>
        <input
          type="text"
          placeholder="optional"
          class="Default_Input_Field"
          [(ngModel)]="specialization"
        />
      </div>
      <div class="Default_Input" id="Kurs">
        <div class="Default_Input_Text"><span>Kurs</span></div>
        <input
          type="text"
          placeholder="TINF20B2"
          class="Default_Input_Field"
          [(ngModel)]="courseAbr"
        />
      </div>
      <div class="Default_Input" id="Passwort">
        <div class="Default_Input_Text"><span>Passwort</span></div>
        <input
          type="password"
          class="Default_Input_Field"
          [(ngModel)]="password"
        />
      </div>
      <div class="Default_Input" id="Passwort-WDH">
        <div class="Default_Input_Text"><span>Passwort Wiederholung</span></div>
        <input type="password" class="Default_Input_Field" />
      </div>
    </div>
    <div id="bottom-nav">
      <button id="Register_Button" class="Default_Button" (click)="register()">
        Registrieren
      </button>
      <div id="AGB_Text">
        <span>Mit dem Registrieren akzeptierst du unsere AGBs</span>
      </div>
    </div>
  </div>
</body>
